<%- include("header") -%>

<div class="container">
  <ul class="list-group">
    <li class="list-group-item list-group-item-primary"><%= todoList.name %></li>

    <% todoList.items.forEach(function(item) { %>
      <li class="list-group-item d-flex justify-content-between align-items-center">
        <form class="" action="<%= postAction %>done" method="post">
          <button type="submit" class="btn-no-outline add" name="button" value="<%= item._id %>">
            <i class="fas fa-check"></i>
          </button>
        </form>
        <span class="todo-text"><%= item.name %></span>
        <form class="" action="<%= postAction %>delete" method="post">
          <button type="submit" class="btn-no-outline delete" name="button" value="<%= item._id %>">
            <i class="far fa-trash-alt"></i>
          </button>
        </form>
      </li>
    <% }); %>
  </ul>

  <form class="add-form" action="<%= postAction %>" method="post">
    <div class="input-group mb-3">
      <input type="text" class="form-control" name="newTodo" placeholder="New Item" aria-label="New Item" aria-describedby="basic-addon2">
      <div class="input-group-append">
        <button class="btn btn-outline-primary" type="submit">Add</button>
      </div>
    </div>
  </form>

  <% if(doneList && doneList.items.length > 0) {%>
    <ul class="list-group">
      <li class="list-group-item list-group-item-success">Done</li>

      <% doneList.items.forEach(function(item) { %>
        <li class="list-group-item d-flex justify-content-between align-items-center">
          <span class="todo-text"><%= item.name %></span>
          <form class="" action="<%= postAction %>delete" method="post">
            <button type="submit" class="btn-no-outline delete" name="button" value="<%= item._id %>">
              <i class="far fa-trash-alt"></i>
            </button>
          </form>
        </li>
      <% }); %>
    </ul>
  <% } %>
</div>

<%- include("footer") -%>
